angular.module("dgmSurvey",["ionic","dgmSurvey.controllers","dgmSurvey.services"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/tabs.html"}).state("tab.adminLogin",{url:"/adminLogin",views:{"tab-admin":{templateUrl:"templates/tab-admin-login.html",controller:"loginCtrl"}}}).state("tab.adminDashboard",{url:"/adminDash",views:{"tab-admin":{templateUrl:"templates/admin-dashboard.html",controller:"adminDashCtrl"}}}).state("tab.adminViewQuestion",{url:"/adminViewQuestion",views:{"tab-admin":{templateUrl:"templates/admin-view-question.html",controller:"QuestionCtrl"}}}).state("tab.question",{url:"/question",views:{"tab-admin":{templateUrl:"templates/question.html",controller:"QuestionCtrl"}}}),t.otherwise("/tab/adminLogin")}]),angular.module("dgmSurvey.controllers",[]),angular.module("dgmSurvey.services",[]),angular.module("dgmSurvey.controllers").controller("adminDashCtrl",["$scope","$state",function(e,t){e.goCreate=function(){t.go("tab.question")},e.goView=function(){t.go("tab.adminViewQuestion")}}]),angular.module("dgmSurvey.controllers").controller("loginCtrl",["$scope","loginService",function(e,t){e.signIn=function(e,o){var n={email:e,password:o};t.loginAdmin(n)}}]),angular.module("dgmSurvey.controllers").controller("QuestionCtrl",["$scope","questionService",function(e,t){e.question={choices:[]};var o=t.getQuestionTypes();o.then(function(t){e.questionTypes=t.data.types},function(e){$log.error("failed to load question types",e)}),e.addQuestion=function(e){console.log(e),t.postQuestion(e)},e.addAnswer=function(){e.question.choices.push({})};var n=t.getAllQuestions();n.then(function(t){e.questionViews=t.data.questions,console.log(e.questionViews)},function(e){$log.error("failed to load questions",e)}),e.deleteQuestion=function(e){t.deleteAQuestionMethod(e)}}]),angular.module("dgmSurvey.services").factory("loginService",["$http","$state",function(e,t){return{loginAdmin:function(o){return e.post("/v1/auth/login",o).success(function(e,o){e.success===!0?(t.go("tab.adminDashboard"),console.log(e),console.log(o)):console.log(e.error)}).error(function(e){e.success===!1&&console.log(e.error)})}}}]),angular.module("dgmSurvey.services").factory("questionService",["$http","$state",function(e,t){return{getAllQuestions:function(){return e.get("/v1/question")},postQuestion:function(o){return e.post("/v1/question",o).success(function(e,o){e.success===!0&&(t.go("tab.adminDashboard"),console.log(e),console.log(o))}).error(function(e){e.success===!1&&console.log(e.error)})},getQuestionTypes:function(){return e.get("/v1/question/types")},deleteAQuestionMethod:function(o){return e.delete("/v1/question/"+o).success(function(e){e.success===!0&&t.go(t.current,{},{reload:!0})}).error(function(e){e.success===!1&&console.log(e.error)})}}}]),angular.module("fastclick",[]).config(function(){window.FastClick&&FastClick.attach(document.body)}),angular.module("user",[]).factory("user",["$http",function(e){var t="/v1/user",o="/v1/auth",n=e.get(o+"/roles");return{create:function(o){var n=t;return e.post(n,o)},read:function(o){var n=t;return o&&(n+="/"+o),e.get(n)},update:function(o){var n=t+"/"+o.id;return e.put(n,o)},"delete":function(o){var n=t+"/"+o;return e.delete(n)},login:function(t,n){var r=o+"/login";return e.post(r,{email:t,password:n})},logout:function(){var t=o+"/logout";return e.post(t)},roles:n.then(function(e){return e.roles}),accessLevels:n.then(function(e){return e.accessLevels})}}]);
//# sourceMappingURL=../maps/app-0.0.0.min.js.map
